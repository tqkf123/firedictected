# 🔥 화재 감지 및 인명 구조 관리 서버 🧑

> 실시간 비디오 모니터링과 복합 센서 데이터를 통합하여 화재 및 인명을 감지하고, 원격으로 대응할 수 있는 Flask 기반 웹 관리 시스템입니다.

---

## 🚀 프로젝트 목표

본 프로젝트는 실시간 비디오 모니터링과 다양한 센서 데이터를 통합하여 **화재 감지** 및 **사람 감지**를 수행하는 웹 기반 모니터링 시스템을 구축하는 것을 목표로 합니다.

Flask 웹 프레임워크를 사용하여 다음과 같은 핵심 기능을 제공합니다.

* **사용자 인증 및 역할 관리:** 관리자와 일반 사용자의 접근 권한을 분리합니다.
* **실시간 비디오 스트리밍:** 카메라 영상을 웹 인터페이스로 실시간 전송합니다.
* **지능형 감지 (YOLO/OpenCV):** 영상 내에서 화재 및 사람을 자동으로 감지합니다.
* **복합 센서 모니터링:** 온도, 가스, 마이크(소리) 센서 데이터를 실시간으로 시각화합니다.
* **하드웨어 연동:** 아두이노(MCU)와의 시리얼 통신을 통해 센서 값을 수신하고 액추에이터(부저, LED, 서보)를 제어합니다.
* **원격 대응:** 사용자는 웹 인터페이스를 통해 실시간 상황을 모니터링하고, 필요시 **원격으로 방화문(서보 모터)을 제어**할 수 있습니다.

---

## ✨ 기대 효과

* **신속한 초기 대응:** 직관적인 웹 UI와 실시간 경고/알림 기능을 통해 화재 발생 시 즉각적인 상황 인지 및 대응이 가능하며, 이로 인한 피해를 최소화할 수 있습니다.
* **강화된 보안:** 사용자 권한(Admin/User)에 따른 정보 접근 제어 및 기능 제한이 가능하여 시스템 보안성이 향상됩니다.
* **효율적인 안전 관리:** 실시간 감시와 자동 감지 기능(화재, 사람)을 통해 관리자와 사용자 모두가 24시간 효과적으로 안전 상황을 관리할 수 있습니다.

---

## 🛠️ 사용 기술 (Tech Stack)

### 1. Software
* **Backend:** Python, Flask
* **Computer Vision:** OpenCV, YOLO
* **Frontend:** HTML, CSS
* **Database:** MySQL
* **IDE & Tools:** Visual Studio, ARDUINO IDE

### 2. Hardware
* **MCU:** Arduino (또는 호환 보드)
* **Camera:** 웹캠 또는 라즈베리파이 카메라
* **Sensors:**
    * 온도 센서 (예: DHT11/22)
    * 가스 센서 (예: MQ-2)
    * 마이크 센서 (소리 감지)
* **Actuators:**
    * 서보 모터 (방화문 제어용)
    * LED (상태 표시등)
    * 부저 (경고음)

---

## 📈 시스템 흐름도 (Architecture)

### 1. 하드웨어 흐름도

> [!NOTE]
> 하드웨어 흐름도 이미지를 여기에 삽입하세요.
> (예: `![하드웨어 흐름도](/image/하드웨어 흐름도.png)`)

* (이미지 설명 예시: 아두이노(MCU)를 중심으로 각 센서(온도, 가스, 마이크)가 연결되며, 수집된 데이터는 시리얼 통신을 통해 서버로 전송됩니다. 서버의 명령을 받아 부저, LED, 서보 모터를 구동합니다.)

### 2. 소프트웨어 흐름도

> [!NOTE]
> 소프트웨어 흐름도 이미지를 여기에 삽입하세요.
> (예: `![소프트웨어 흐름도](../image/소프트웨어 흐름도.png)`)

* (이미지 설명 예시: 사용자가 웹 브라우저를 통해 Flask 서버에 접속합니다. 서버는 사용자 인증을 처리하고, OpenCV/YOLO를 통해 카메라 스트림을 분석합니다. 동시에 아두이노로부터 센서 데이터를 수신하여 MySQL DB에 로그를 저장하고, 웹에 시각화합니다. 감지/경고 발생 시 하드웨어를 제어합니다.)

### 3. 전체 시스템 흐름도

> [!NOTE]
> 전체 흐름도 이미지를 여기에 삽입하세요.
> (예: `![전체 흐름도](/image/흐름도.png)`)

* (이미지 설명 예시: 하드웨어에서 수집된 데이터와 카메라 영상이 서버로 전송되고, 서버는 이 데이터를 가공/분석하여 DB에 저장 및 사용자(관리자/일반)에게 웹으로 제공하며, 사용자는 이를 기반으로 원격 제어 명령을 내릴 수 있는 전체적인 순환 구조를 보여줍니다.)

---

## 📸 스크린샷 (Screenshots)

> [!NOTE]
> 시스템의 주요 화면 스크린샷을 여기에 추가하세요. (예: 로그인 화면, 대시보드, 실시간 모니터링 화면)

* **로그인 페이지**
    `![로그인 화면](./image/로그인창.png)`
* **회원가입 페이지**
    `![로그인 화면](./image/회원가입창.png)`
* **메인 대시보드 (센서 데이터)**
    `![대시보드](./image/메인창.png)`
* **실시간 모니터링 (화재/사람 감지)**
    `![모니터링](./image/미아방지cctv.png)`

---

## ⚙️ 설치 및 실행 방법 (Optional)

1.  **리포지토리 클론:**
    ```bash
    git clone [https://github.com/your-username/your-repository-name.git](https://github.com/your-username/your-repository-name.git)
    cd your-repository-name
    ```

2.  **가상 환경 생성 및 활성화:**
    ```bash
    python -m venv venv
    source venv/bin/activate  # (Windows: venv\Scripts\activate)
    ```

3.  **필요 라이브러리 설치:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **데이터베이스 설정:**
    * MySQL에 `your_database_name` 데이터베이스를 생성합니다.
    * `config.py` (또는 해당 설정 파일)에 DB 정보를 입력합니다.

5.  **아두이노 펌웨어 업로드:**
    * `arduino_code/` 폴더의 `.ino` 파일을 아두이노에 업로드합니다.

6.  **Flask 서버 실행:**
    ```bash
    flask run
    ```
